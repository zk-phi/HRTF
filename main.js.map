{
  "version": 3,
  "sources": ["../src/index.js"],
  "sourcesContent": ["const loadFile = (ctx, file) => new Promise((resolve) => {\n  const reader = new FileReader();\n  reader.onload = (e) => ctx.decodeAudioData(e.target.result, resolve);\n  reader.readAsArrayBuffer(file);\n});\n\nclass Node extends AudioBufferSourceNode {\n  constructor (ctx, options) {\n    super(ctx, {\n      buffer: options.buffer,\n      loop: options.loop,\n    });\n    this.splitter = new ChannelSplitterNode(ctx, {\n      numberOfOutputs: 2,\n    });\n    this.panner = new PannerNode(ctx, {\n      panningModel: \"HRTF\",\n    });\n    this.connect(this.splitter);\n    this.splitter.connect(this.panner, 0);\n    this.splitter.connect(this.panner, 1);\n    this.connect = (node) => this.panner.connect(node);\n    this.disconnect = (node) => this.panner.disconnect(node);\n  }\n}\n\nlet ctx;\nlet destination;\n\nfunction initialize () {\n  ctx = new AudioContext();\n  destination = new MediaStreamAudioDestinationNode(ctx);\n  const audio = document.getElementById(\"audio\");\n  audio.srcObject = destination.stream;\n  audio.play();\n}\n\nlet src;\n\ndocument.getElementById(\"file\").addEventListener(\"change\", async (e) => {\n  if (!ctx) initialize();\n  src = new Node(ctx, { buffer: await loadFile(ctx, e.target.files[0]), loop: true });\n  src.connect(destination);\n  src.start();\n});\n\ndocument.getElementById(\"x\").addEventListener(\"input\", (e) => {\n  src.panner.positionX.value = parseFloat(e.target.value);\n  console.log(src.panner.positionX.value);\n});\n\ndocument.getElementById(\"y\").addEventListener(\"input\", (e) => {\n  src.panner.positionY.value = parseFloat(e.target.value);\n  console.log(src.panner.positionY.value);\n});\n\ndocument.getElementById(\"z\").addEventListener(\"input\", (e) => {\n  src.panner.positionZ.value = parseFloat(e.target.value);\n  console.log(src.panner.positionZ.value);\n});\n"],
  "mappings": ";;AAAA,MAAM,WAAW,CAAC,MAAK,SAAS,IAAI,QAAQ,CAAC,YAAY;AACvD,UAAM,SAAS,IAAI;AACnB,WAAO,SAAS,CAAC,MAAM,KAAI,gBAAgB,EAAE,OAAO,QAAQ;AAC5D,WAAO,kBAAkB;AAAA;AAG3B,2BAAmB,sBAAsB;AAAA,IACvC,YAAa,MAAK,SAAS;AACzB,YAAM,MAAK;AAAA,QACT,QAAQ,QAAQ;AAAA,QAChB,MAAM,QAAQ;AAAA;AAEhB,WAAK,WAAW,IAAI,oBAAoB,MAAK;AAAA,QAC3C,iBAAiB;AAAA;AAEnB,WAAK,SAAS,IAAI,WAAW,MAAK;AAAA,QAChC,cAAc;AAAA;AAEhB,WAAK,QAAQ,KAAK;AAClB,WAAK,SAAS,QAAQ,KAAK,QAAQ;AACnC,WAAK,SAAS,QAAQ,KAAK,QAAQ;AACnC,WAAK,UAAU,CAAC,SAAS,KAAK,OAAO,QAAQ;AAC7C,WAAK,aAAa,CAAC,SAAS,KAAK,OAAO,WAAW;AAAA;AAAA;AAIvD,MAAI;AACJ,MAAI;AAEJ,wBAAuB;AACrB,UAAM,IAAI;AACV,kBAAc,IAAI,gCAAgC;AAClD,UAAM,QAAQ,SAAS,eAAe;AACtC,UAAM,YAAY,YAAY;AAC9B,UAAM;AAAA;AAGR,MAAI;AAEJ,WAAS,eAAe,QAAQ,iBAAiB,UAAU,OAAO,MAAM;AACtE,QAAI,CAAC;AAAK;AACV,UAAM,IAAI,KAAK,KAAK,EAAE,QAAQ,MAAM,SAAS,KAAK,EAAE,OAAO,MAAM,KAAK,MAAM;AAC5E,QAAI,QAAQ;AACZ,QAAI;AAAA;AAGN,WAAS,eAAe,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC5D,QAAI,OAAO,UAAU,QAAQ,WAAW,EAAE,OAAO;AACjD,YAAQ,IAAI,IAAI,OAAO,UAAU;AAAA;AAGnC,WAAS,eAAe,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC5D,QAAI,OAAO,UAAU,QAAQ,WAAW,EAAE,OAAO;AACjD,YAAQ,IAAI,IAAI,OAAO,UAAU;AAAA;AAGnC,WAAS,eAAe,KAAK,iBAAiB,SAAS,CAAC,MAAM;AAC5D,QAAI,OAAO,UAAU,QAAQ,WAAW,EAAE,OAAO;AACjD,YAAQ,IAAI,IAAI,OAAO,UAAU;AAAA;",
  "names": []
}
